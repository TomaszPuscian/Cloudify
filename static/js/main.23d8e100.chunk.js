(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{11:function(e,t,n){e.exports=n(28)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(9),o=n.n(c),l=(n(16),n(17),n(18),function(){return r.a.createElement("div",{className:"header--container"},r.a.createElement("h1",null,"CLOUDIFY"))}),i=function(e){return r.a.createElement(r.a.Fragment,null,e.children)},u=function(){return r.a.createElement("div",null,"Footer")},s=n(3),d=n(4),f=function(e){var t=e.weather,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],l=c[1],i=[];return Object(a.useEffect)((function(){fetch("https://accounts.spotify.com/api/token?grant_type=client_credentials",{method:"POST",headers:{Authorization:"Basic "+btoa("016e9c15a9094590acbf82803e2d4725:576c77f27dd24fb4ab3946517ec28c25"),"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){l(e.access_token)}))}),[]),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c.Provider,{value:o},r.a.createElement(d.a,{id:"37i9dQZEVXbN6itCcaL3Tt"},(function(e){return e.data?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,{id:e.data.tracks.items.map((function(e){return e.track.id}))},t)," "):null}))),r.a.createElement("div",null,i)):null},m=function(e){var t,n=e.weatherObj;return t=n.data.instant.details.air_temperature>15&&n.data.instant.details.cloud_area_fraction<37&&n.data.instant.details.cloud_area_fraction<10?function(e){return e.data?r.a.createElement("ul",null,e.data.audio_features.filter((function(e){return e.energy>.7})).map((function(e){var t=e.energy,n=e.id;return r.a.createElement("li",{key:n},t)}))):null}:function(e){return e.data?r.a.createElement("ul",null,e.data.audio_features.filter((function(e){return e.energy<.7})).map((function(e){var t=e.energy,n=e.id;return r.a.createElement("li",{key:n},t)}))):null},r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,console.log(n)),r.a.createElement(f,{weather:t}))},h=function(e){var t=e.latitude,n=e.longtitude,c=Object(a.useState)(""),o=Object(s.a)(c,2),l=o[0],i=o[1];if(Object(a.useEffect)((function(){fetch("https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=".concat(t,"&lon=").concat(n)).then((function(e){return e.json()})).then((function(e){return i(e.properties)}))}),[]),l){var u=new Date;u.setHours(u.getHours()-1);var d=u.getTime(),f=l.timeseries.find((function(e){return new Date(e.time).getTime()>d}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{weatherObj:f}))}return null},E=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),i=l[0],u=l[1],d=function(e){var t=e.coords.latitude,n=e.coords.longitude;c(t),u(n)},f=function(){alert("Cloudify have failed to obtain your location. Let Cloudify get your position or write it in the search field below")};return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition(d,f)}),[]),n&&i?(console.log(n,i),r.a.createElement(h,{latitude:n,longtitude:i})):null};var g=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l,null),r.a.createElement(i,null,r.a.createElement(E,null)),r.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.23d8e100.chunk.js.map